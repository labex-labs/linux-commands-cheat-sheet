# Understand the Purpose and Functionality of iptables-save

In this step, you will learn about the purpose and functionality of the `iptables-save` command. The `iptables-save` command is used to save the current state of the iptables firewall rules to a file, which can then be used to restore the firewall configuration at a later time.

The `iptables-save` command captures the current state of the iptables firewall rules, including the filter, nat, mangle, and raw tables. This allows you to easily backup and restore your firewall configuration, which is useful in scenarios such as:

- Migrating firewall rules to a new system
- Restoring the firewall configuration after a system reboot or update
- Automating the backup and restoration of firewall rules

To use the `iptables-save` command, simply run the following command in the terminal:

```
sudo iptables-save
```

This will output the current iptables firewall rules to the terminal. You can redirect this output to a file for backup purposes:

```
sudo iptables-save > iptables-backup.rules
```

The generated `iptables-backup.rules` file can then be used to restore the firewall configuration at a later time using the `iptables-restore` command.

Example output:

```
# Generated by iptables-save v1.8.7 on Wed Apr 12 12:34:56 2023
*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
-A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
-A INPUT -p icmp -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -m conntrack --ctstate INVALID -j DROP
-A INPUT -p tcp -m tcp --dport 22 -j ACCEPT
-A INPUT -j REJECT --reject-with icmp-host-prohibited
COMMIT
# Completed on Wed Apr 12 12:34:56 2023
```

The output shows the current iptables firewall rules, which can be used to restore the configuration later.
